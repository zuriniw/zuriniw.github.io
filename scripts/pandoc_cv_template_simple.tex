% Simple and effective Pandoc LaTeX template for CV
% Focused on proper formatting with minimal complexity

% Document class and font size (using 9pt like original)
\documentclass[a4paper,9pt]{extarticle}

% Basic packages
\usepackage{geometry}
\geometry{letterpaper, margin=0.75in}
\usepackage{hyperref}
\usepackage{xcolor}
\usepackage{enumitem}

$if(useRoboto)$
% Font setup (requires lualatex/xelatex)
\usepackage{fontspec}
\defaultfontfeatures{Ligatures=TeX}
\setmainfont{Roboto}[
    Path=fonts/,
    UprightFont={Roboto-VariableFont_wdth,wght.ttf},
    UprightFeatures={RawFeature={+wght=400}},
    BoldFont={Roboto-VariableFont_wdth,wght.ttf},
    BoldFeatures={RawFeature={+wght=700}},
    ItalicFont={Roboto-Italic-VariableFont_wdth,wght.ttf},
    ItalicFeatures={RawFeature={+wght=400}},
    BoldItalicFont={Roboto-Italic-VariableFont_wdth,wght.ttf},
    BoldItalicFeatures={RawFeature={+wght=700}}
]
% Roboto is now the main font for the PDF output
$else$
% Default LaTeX font (Computer Modern) will be used
$endif$

% Hyperlink setup
\definecolor{linkblue}{HTML}{015FB8}
\hypersetup{
    colorlinks=true,
    linkcolor=linkblue,
    urlcolor=linkblue,
    pdfborder={0 0 0},
    pdfauthor={Ziru Wei},
    pdftitle={Ziru Wei - CV}
}

% Underlined muted-blue hyperlinks
\let\oldhref\href
\renewcommand{\href}[2]{%
    \oldhref{#1}{\textcolor{linkblue}{\uline{#2}}}%
}

% Configure heading levels: H1 minimal, H2 as main sections
\setcounter{secnumdepth}{0}

% Suppress H1 from markdown to avoid duplicate title
\renewcommand{\section}[1]{}

% H2 (\subsection) - main sections with dividers (Education, Skills, etc.)
\renewcommand{\subsection}[1]{%
    \vspace{2 em}%
    \noindent{\large\textsc{#1}}%
    \vspace{0.1em}%
    \hrule%
    \vspace{0em}%
}

% H3 (\subsubsection) - smaller subsections if needed
\renewcommand{\subsubsection}[1]{%
    \vspace{0.4em}%
    {\normalsize\bfseries #1}%
    \vspace{0.25em}%
}

% Pandoc specific commands
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

% Support for underline (from <u> tags in markdown)
\usepackage{ulem}
\normalem  % Keep normal emphasis behavior

% Add extra spacing above bold text (for institution names, paper titles, etc.)
\let\oldtextbf\textbf
\renewcommand{\textbf}[1]{%
    \ifvmode
        \vspace{0.8em}%
        \noindent
    \fi
    \oldtextbf{#1}%
}

% List formatting - support nested lists with proper indentation
\setlist[itemize,1]{nosep, leftmargin=1.5em, topsep=0pt, partopsep=0pt, itemsep=0pt, parsep=0pt}
\setlist[itemize,2]{nosep, leftmargin=1.5em, topsep=0pt, partopsep=0pt, itemsep=0pt, parsep=0pt}
\setlist[enumerate,1]{nosep, leftmargin=1.5em, topsep=0pt, partopsep=0pt, itemsep=0pt, parsep=0pt}
\setlist[enumerate,2]{nosep, leftmargin=1.5em, topsep=0pt, partopsep=0pt, itemsep=0pt, parsep=0pt}


% Indented environment that preserves nested lists and wrapping
\newenvironment{cvindent}{%
    \begin{list}{}{%
        \setlength{\leftmargin}{0em}%
        \setlength{\rightmargin}{0pt}%
        \setlength{\topsep}{0pt}%
        \setlength{\partopsep}{0pt}%
        \setlength{\itemsep}{0pt}%
        \setlength{\parsep}{0pt}%
    }%
    \item[]%
}{%
    \end{list}%
}

% Additional spacing control
\setlength{\parskip}{0pt} % No extra space between paragraphs
\setlength{\baselineskip}{1.1em} % Tighter line spacing
\setlength{\parindent}{0pt} % No paragraph indentation

% Begin document
\begin{document}

% Simple page setup
\pagestyle{empty}

% Avoid aggressive hyphenation while keeping paragraphs readable
\hyphenpenalty=10000
\exhyphenpenalty=10000
\raggedright

% Title formatting (centered) with fixed contact info
\begin{center}
    {\fontsize{20}{24}\selectfont\bfseries Ziru Wei}\\[5pt]
        {\large
          \href{mailto:ziruw@andrew.cmu.edu}{ziruw@andrew.cmu.edu} \,|\, 
          \href{https://zuriniw.github.io}{zuriniw.github.io}
        }\\[8pt]
    \end{center}
\vspace{0.25em}

% \noindent{ \textbf{Research Interests:} Bring AI capabilities into everyday physical environments to advance human lives}\\[4pt]
% \noindent\begin{minipage}{\textwidth}
%     {\setlength{\parindent}{0pt}%
%      \setlength{\leftskip}{0em}%
%      \small I aim to 
%      (1)construct AI-backed infrastructure that enables new interactive dimensions,
%      (2)augment existing interactive systems for more contextually appropriate and less disruptive interactivity, and 
%      (3)understand and model user behavior and perception to inform both.\par}
% \end{minipage}
% \vspace{0.5em}


% Body content from markdown
$body$



\end{document}
